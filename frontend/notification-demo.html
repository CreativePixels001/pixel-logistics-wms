<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notification System Demo - Pixel Logistics</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/notifications.css">
</head>
<body>
    <!-- Include Header -->
    <div id="common-header"></div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Include Sidebar -->
        <div id="sidebar"></div>

        <!-- Content Area -->
        <div class="container">
            <div class="page-header">
                <h1>Notification System Demo</h1>
                <p class="page-description">Interactive demonstration of the unified notification system</p>
            </div>

            <!-- Toast Notifications -->
            <div class="card">
                <div class="card-header">
                    <h2>Toast Notifications</h2>
                </div>
                <div class="card-body">
                    <p style="margin-bottom: 20px; color: var(--text-light);">
                        Toast notifications appear in the top-right corner and auto-dismiss after a few seconds.
                    </p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px;">
                        <button class="btn btn-success" onclick="demoSuccess()">
                            <i class="fas fa-check"></i> Success Toast
                        </button>
                        <button class="btn btn-danger" onclick="demoError()">
                            <i class="fas fa-times"></i> Error Toast
                        </button>
                        <button class="btn btn-warning" onclick="demoWarning()">
                            <i class="fas fa-exclamation-triangle"></i> Warning Toast
                        </button>
                        <button class="btn btn-info" onclick="demoInfo()">
                            <i class="fas fa-info-circle"></i> Info Toast
                        </button>
                        <button class="btn btn-primary" onclick="demoWithAction()">
                            <i class="fas fa-bolt"></i> With Action
                        </button>
                        <button class="btn btn-outline" onclick="demoPersistent()">
                            <i class="fas fa-lock"></i> Persistent
                        </button>
                    </div>
                </div>
            </div>

            <!-- Dialog Confirmations -->
            <div class="card">
                <div class="card-header">
                    <h2>Dialog Confirmations</h2>
                </div>
                <div class="card-body">
                    <p style="margin-bottom: 20px; color: var(--text-light);">
                        Confirmation dialogs require user action before proceeding.
                    </p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px;">
                        <button class="btn btn-primary" onclick="demoConfirm()">
                            <i class="fas fa-check-circle"></i> Standard Confirm
                        </button>
                        <button class="btn btn-danger" onclick="demoDangerousAction()">
                            <i class="fas fa-trash"></i> Dangerous Action
                        </button>
                        <button class="btn btn-info" onclick="demoPrompt()">
                            <i class="fas fa-keyboard"></i> Input Prompt
                        </button>
                    </div>
                </div>
            </div>

            <!-- Loading Indicators -->
            <div class="card">
                <div class="card-header">
                    <h2>Loading Indicators</h2>
                </div>
                <div class="card-body">
                    <p style="margin-bottom: 20px; color: var(--text-light);">
                        Loading overlays show progress for long-running operations.
                    </p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px;">
                        <button class="btn btn-primary" onclick="demoLoading()">
                            <i class="fas fa-spinner"></i> Show Loading
                        </button>
                        <button class="btn btn-outline" onclick="demoLongOperation()">
                            <i class="fas fa-cog"></i> Simulate Operation
                        </button>
                    </div>
                </div>
            </div>

            <!-- Real-World Examples -->
            <div class="card">
                <div class="card-header">
                    <h2>Real-World Examples</h2>
                </div>
                <div class="card-body">
                    <p style="margin-bottom: 20px; color: var(--text-light);">
                        Common use cases from warehouse management operations.
                    </p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px;">
                        <button class="btn btn-success" onclick="demoOrderCreated()">
                            <i class="fas fa-shopping-cart"></i> Order Created
                        </button>
                        <button class="btn btn-primary" onclick="demoInventoryAdjusted()">
                            <i class="fas fa-boxes"></i> Inventory Adjusted
                        </button>
                        <button class="btn btn-warning" onclick="demoLowStock()">
                            <i class="fas fa-exclamation-triangle"></i> Low Stock Alert
                        </button>
                        <button class="btn btn-info" onclick="demoShipmentTracked()">
                            <i class="fas fa-truck"></i> Shipment Updated
                        </button>
                        <button class="btn btn-danger" onclick="demoDeleteConfirmation()">
                            <i class="fas fa-trash-alt"></i> Delete Item
                        </button>
                        <button class="btn btn-outline" onclick="demoAssignPicker()">
                            <i class="fas fa-user-tag"></i> Assign Picker
                        </button>
                        <button class="btn btn-success" onclick="demoExportComplete()">
                            <i class="fas fa-file-export"></i> Export Data
                        </button>
                        <button class="btn btn-primary" onclick="demoFormSaved()">
                            <i class="fas fa-save"></i> Auto-Save Draft
                        </button>
                    </div>
                </div>
            </div>

            <!-- Multiple Notifications -->
            <div class="card">
                <div class="card-header">
                    <h2>Stress Test</h2>
                </div>
                <div class="card-body">
                    <p style="margin-bottom: 20px; color: var(--text-light);">
                        Test the notification queue management (max 5 visible).
                    </p>
                    <div style="display: flex; gap: 12px; flex-wrap: wrap;">
                        <button class="btn btn-primary" onclick="demoMultiple()">
                            <i class="fas fa-layer-group"></i> Show 10 Notifications
                        </button>
                        <button class="btn btn-danger" onclick="notify.dismissAll()">
                            <i class="fas fa-times-circle"></i> Dismiss All
                        </button>
                    </div>
                </div>
            </div>

            <!-- Code Examples -->
            <div class="card">
                <div class="card-header">
                    <h2>Usage Examples</h2>
                </div>
                <div class="card-body">
                    <h3 style="margin-top: 0; font-size: 16px;">Basic Toast</h3>
                    <pre style="background: var(--code-bg, #f3f4f6); padding: 16px; border-radius: 6px; overflow-x: auto; font-size: 13px; line-height: 1.6; color: var(--text-color);"><code>notify.success('Order SO-2025-1001 created successfully!');
notify.error('Failed to save changes. Please try again.');
notify.warning('Stock level below minimum threshold.');
notify.info('Draft saved automatically at 10:30 AM.');</code></pre>

                    <h3 style="font-size: 16px; margin-top: 24px;">With Action Button</h3>
                    <pre style="background: var(--code-bg, #f3f4f6); padding: 16px; border-radius: 6px; overflow-x: auto; font-size: 13px; line-height: 1.6; color: var(--text-color);"><code>notify.success('Item deleted successfully.', 5000, {
  actionText: 'Undo',
  action: () => restoreItem()
});</code></pre>

                    <h3 style="font-size: 16px; margin-top: 24px;">Confirmation Dialog</h3>
                    <pre style="background: var(--code-bg, #f3f4f6); padding: 16px; border-radius: 6px; overflow-x: auto; font-size: 13px; line-height: 1.6; color: var(--text-color);"><code>notify.confirm(
  'Are you sure you want to delete these 5 items?',
  () => deleteItems(),
  () => console.log('Cancelled'),
  { danger: true, title: 'Confirm Deletion' }
);</code></pre>

                    <h3 style="font-size: 16px; margin-top: 24px;">Input Prompt</h3>
                    <pre style="background: var(--code-bg, #f3f4f6); padding: 16px; border-radius: 6px; overflow-x: auto; font-size: 13px; line-height: 1.6; color: var(--text-color);"><code>notify.prompt(
  'Enter picker name to assign:',
  (value) => assignPicker(value),
  { placeholder: 'John Smith', title: 'Assign Picker' }
);</code></pre>

                    <h3 style="font-size: 16px; margin-top: 24px;">Loading Indicator</h3>
                    <pre style="background: var(--code-bg, #f3f4f6); padding: 16px; border-radius: 6px; overflow-x: auto; font-size: 13px; line-height: 1.6; color: var(--text-color);"><code>const hideLoader = notify.loading('Exporting data...');
await performExport();
hideLoader();
notify.success('Export completed!');</code></pre>
                </div>
            </div>
        </div>
    </div>

    <script src="js/auth.js"></script>
    <script src="js/sidebar.js"></script>
    <script src="js/theme.js"></script>
    <script src="js/main.js"></script>
    <script src="js/search-page.js"></script>
    <script src="js/common-header.js"></script>
    <script src="js/notifications.js"></script>

    <script>
        // Demo Functions

        function demoSuccess() {
            notify.success('Operation completed successfully!');
        }

        function demoError() {
            notify.error('An error occurred while processing your request.');
        }

        function demoWarning() {
            notify.warning('This action cannot be undone. Proceed with caution.');
        }

        function demoInfo() {
            notify.info('Your session will expire in 5 minutes.');
        }

        function demoWithAction() {
            notify.success('Item removed from cart.', 5000, {
                actionText: 'Undo',
                action: () => {
                    notify.info('Item restored to cart.');
                }
            });
        }

        function demoPersistent() {
            notify.error('Critical error: Database connection lost. Please contact support.', 0);
        }

        function demoConfirm() {
            notify.confirm(
                'Do you want to proceed with this action?',
                () => notify.success('Action confirmed!'),
                () => notify.info('Action cancelled.')
            );
        }

        function demoDangerousAction() {
            notify.confirm(
                'This will permanently delete 5 selected items. This action cannot be undone.',
                () => notify.success('Items deleted successfully.'),
                () => notify.info('Deletion cancelled.'),
                { 
                    danger: true, 
                    title: 'Confirm Deletion',
                    confirmText: 'Delete',
                    cancelText: 'Cancel'
                }
            );
        }

        function demoPrompt() {
            notify.prompt(
                'Please enter a new location for this item:',
                (value) => notify.success(`Item moved to location: ${value}`),
                { 
                    placeholder: 'A-01-05',
                    title: 'Update Location',
                    submitText: 'Move Item'
                }
            );
        }

        function demoLoading() {
            const hideLoader = notify.loading('Processing...');
            setTimeout(() => {
                hideLoader();
                notify.success('Processing complete!');
            }, 2000);
        }

        function demoLongOperation() {
            const hideLoader = notify.loading('Generating report... This may take a moment.');
            setTimeout(() => {
                hideLoader();
                notify.success('Report generated successfully!', 5000, {
                    actionText: 'Download',
                    action: () => notify.info('Download started.')
                });
            }, 3000);
        }

        // Real-World Examples

        function demoOrderCreated() {
            notify.success('Order SO-2025-1042 created successfully!', 5000, {
                actionText: 'View Order',
                action: () => notify.info('Navigating to order details...')
            });
        }

        function demoInventoryAdjusted() {
            notify.success('Inventory adjusted: SKU-12345 +150 units', 4000);
        }

        function demoLowStock() {
            notify.warning('Low stock alert: Item "Widget Pro" has only 5 units remaining.', 6000, {
                actionText: 'Reorder',
                action: () => notify.info('Creating purchase order...')
            });
        }

        function demoShipmentTracked() {
            notify.info('Shipment SHIP-2025-1001 is now "Out for Delivery"', 5000, {
                actionText: 'Track',
                action: () => notify.info('Opening tracking details...')
            });
        }

        function demoDeleteConfirmation() {
            notify.confirm(
                'Delete item "Industrial Shelving Unit"? This action cannot be undone.',
                () => {
                    const hideLoader = notify.loading('Deleting item...');
                    setTimeout(() => {
                        hideLoader();
                        notify.success('Item deleted successfully.', 5000, {
                            actionText: 'Undo',
                            action: () => notify.success('Item restored.')
                        });
                    }, 1500);
                },
                null,
                { danger: true, title: 'Confirm Deletion' }
            );
        }

        function demoAssignPicker() {
            notify.prompt(
                'Assign pick tasks to:',
                (picker) => {
                    const hideLoader = notify.loading(`Assigning tasks to ${picker}...`);
                    setTimeout(() => {
                        hideLoader();
                        notify.success(`5 tasks assigned to ${picker}`);
                    }, 1000);
                },
                { placeholder: 'John Smith', title: 'Assign Picker' }
            );
        }

        function demoExportComplete() {
            const hideLoader = notify.loading('Exporting inventory data to Excel...');
            setTimeout(() => {
                hideLoader();
                notify.success('Export completed: 1,234 records exported.', 5000, {
                    actionText: 'Download',
                    action: () => notify.info('Download started.')
                });
            }, 2500);
        }

        function demoFormSaved() {
            notify.info('Draft saved automatically at ' + new Date().toLocaleTimeString(), 3000);
        }

        function demoMultiple() {
            for (let i = 1; i <= 10; i++) {
                setTimeout(() => {
                    const types = ['success', 'error', 'warning', 'info'];
                    const type = types[Math.floor(Math.random() * types.length)];
                    const messages = [
                        'Task completed successfully',
                        'Failed to process request',
                        'Resource usage at 85%',
                        'New order received',
                        'Inventory sync in progress',
                        'User logged in from new device',
                        'Backup completed',
                        'Low disk space warning'
                    ];
                    const message = messages[Math.floor(Math.random() * messages.length)];
                    notify[type](`[${i}/10] ${message}`);
                }, i * 300);
            }
        }

        // Check authentication
        if (!isAuthenticated()) {
            window.location.href = 'login.html';
        }
    </script>
</body>
</html>
